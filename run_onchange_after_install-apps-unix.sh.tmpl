#!/bin/sh
# vim: filetype=sh

{{ if eq .chezmoi.os "linux" "darwin" }}
echo "Installing common packages for Linux, WSL, and MacOS..."

# Install from mise/config.toml
mise install

# Delete the default neovim themes
find ~/.local/share/mise/installs/neovim/ -type f -path "*/colors/*" ! -name "*README*" ! -name "default.vim" ! -name "vim.lua" -delete

{{ end }}

{{ if eq .chezmoi.os "linux" }}
echo "Installing packages for Linux..."
sudo apt install git

# Symlink mise's neovim shim to /usr/local/bin so sudoedit can find nvim
# Using the shim (not the versioned path) ensures this works across mise updates
echo "Symlinking mise neovim to /usr/local/bin/nvim"
sudo ln -sf ~/.local/share/mise/shims/nvim /usr/local/bin/nvim

{{ end }}

{{ if eq .chezmoi.os "darwin" }}
echo "Installing packages for MacOS..."

brew install gnu-sed
brew install wget
brew install --cask google-chrome
brew install --cask firefox
brew install --cask wezterm
brew install --cask karabiner-elements
brew install --cask rectangle
brew install --cask clipy
brew install --cask espanso
brew install --cask obsidian
brew install --cask balenaetcher
brew install --cask veracrypt
brew install --cask vlc
brew install --cask logi-options+

{{ end }}

